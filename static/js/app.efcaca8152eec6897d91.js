webpackJsonp([1],{"2IDN":function(t,e){},"6tdw":function(t,e){t.exports={code:"200",data:{token:"AHWqTUmwwL0VUSboPyqT6UGID6eN2oSXvJ_DCe0v71ayN2Vyn0MhxwbFCSdMcWvW",username:"bboyHan"},msg:""}},"BR+q":function(t,e){t.exports={code:"200",data:[{title:"标题1:TEXT 测试文章1",id:1,introduction:"这部分是摘要内容......"},{title:"标题2:TEXT 测试文章2",id:2,introduction:"这部分是摘要内容......"},{title:"标题3:TEXT 测试文章3",id:3,introduction:"这部分是摘要内容......"}],msg:""}},CNLw:function(t,e){t.exports={code:"200",data:{title:"这是一篇测试文章 -1",info:"### bboyhan-web -1\n> bboyhan website\n## Build Setup\n``` bash,\n# install dependencies\nnpm install\n# serve with hot reload at localhost:8080\n```"},msg:""}},EqdY:function(t,e){},Hhm6:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"changeUser",function(){return d});var a={};n.d(a,"currentUser",function(){return c}),n.d(a,"isLogin",function(){return m});var o={};n.d(o,"userToken",function(){return h}),n.d(o,"username",function(){return f});var s=n("//Fk"),i=n.n(s),l=n("7+uW"),u=n("NYxO"),d=function(t,e){var n=t.commit;n("username",e.username),n("userToken",e.token)},c=function(t){return t.currentUser},m=function(t){return t.isLogin},h=function(t,e){t.token=e||null},f=function(t,e){e?(t.currentUser=e,t.isLogin=!0):null==user&&(sessionStorage.setItem("username",null),sessionStorage.setItem("userToken",""),t.currentUser=null,t.isLogin=!1,t.token="")};l.default.use(u.a);var v={currentUser:null,isLogin:!1,token:sessionStorage.getItem("userToken")?sessionStorage.getItem("userToken"):""},p=new u.a.Store({actions:r,getters:a,state:v,mutations:o}),g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var M=n("VU/8")({name:"App"},g,!1,function(t){n("p/0W")},null,null).exports,b=n("/ocq"),_={data:function(){return{tabIndex:this.$route.path}},computed:{isLogin:function(){return sessionStorage.getItem("username")&&sessionStorage.getItem("userToken")?this.$store.commit("userToken",sessionStorage.getItem("userToken")):this.$store.commit("userToken",null),this.$store.getters.isLogin}},methods:{handleSelect:function(t,e){console.log(t,e)}}},w={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header-tab"},[r("img",{staticClass:"tab-left",attrs:{src:n("eOq7")}}),t._v(" "),r("div",{staticClass:"tab-right"},[r("el-menu",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],attrs:{router:"","default-active":t.tabIndex,mode:"horizontal"},on:{select:t.handleSelect}},[r("el-menu-item",{attrs:{index:"/home"}},[t._v("首页")]),t._v(" "),r("el-menu-item",{attrs:{index:"/login"}},[t._v("个人中心")])],1),t._v(" "),r("el-menu",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],attrs:{router:"","default-active":t.tabIndex,mode:"horizontal"},on:{select:t.handleSelect}},[r("el-menu-item",{attrs:{index:"/"}},[r("img",{staticClass:"avatar",attrs:{src:n("zQrT")}}),r("span",{staticClass:"nickname"},[t._v("bboyHan")])]),t._v(" "),r("el-menu-item",{attrs:{index:"/logout"}},[t._v("退出")])],1)],1)])},staticRenderFns:[]};var k=n("VU/8")(_,w,!1,function(t){n("Vl3S")},null,null).exports,x={menu:[{index:"1",icon:"el-icon-news",name:"技术典当",children:[{id:"1",router:"/article",name:"技术杂文",children:[]},{id:"2",router:"/resources",name:"资源分享",children:[]}]},{index:"2",icon:"el-icon-service",name:"倾听生活",children:[{id:"3",router:"/markwall",name:"过往印记",children:[]},{id:"4",router:"/a",name:"美妙声乐",children:[]}]},{index:"3",icon:"el-icon-menu",name:"配置管理",children:[{id:"5",router:"/user",name:"个人中心",children:[]},{id:"6",router:"/join",name:"加入我们",children:[]}]}]},S={data:function(){return{menu:x.menu}},computed:{onRoutes:function(){return this.$route.path.replace(/\s\S/,"")}},methods:{handleOpen:function(t,e){},handleClose:function(t,e){},redirectMenu:function(t){return console.log(t),"/article"!==t&&"/markwall"!==t&&"/user"!==t&&"/join"!==t}}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container-menu"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-menu",{staticClass:"menu-detail",attrs:{"default-active":t.onRoutes,router:"","active-text-color":"#808080","background-color":"#ffffff",mode:"vertical","menu-trigger":"click"},on:{open:t.handleOpen,close:t.handleClose}},t._l(t.menu,function(e,r){return n("el-submenu",{key:r,attrs:{index:e.index}},[n("template",{slot:"title"},[n("i",{class:e.icon}),t._v(t._s(e.name)+"\n            ")]),t._v(" "),n("el-menu-item-group",t._l(e.children,function(e,r){return n("el-menu-item",{key:r,attrs:{index:e.router,disabled:t.redirectMenu(e.router)}},[t._v(t._s(e.name)+"\n              ")])}),1)],2)}),1)],1)],1)],1)])},staticRenderFns:[]};var y=n("VU/8")(S,F,!1,function(t){n("ct0A")},null,null).exports,C={components:{HeaderTab:k,MenuTab:y},data:function(){return{}},methods:{}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("header-tab"),this._v(" "),e("div",[e("menu-tab")],1),this._v(" "),e("div",[e("div",{staticClass:"container-main"},[e("router-view")],1)])],1)},staticRenderFns:[]};var $=n("VU/8")(C,T,!1,function(t){n("QiHL")},null,null).exports,j=n("XLwt"),E=n.n(j);n("FBwb");var I={data:function(){return{}},mounted:function(){this.testt("mark_wall")},methods:{createRandomItemStyle:function(){return{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},testt:function(t){this.chart=E.a.init(document.getElementById(t)),this.chart.setOption({title:{text:"Google Trends",link:"http://www.google.com/trends/hottrends"},tooltip:{show:!0},series:[{name:"Google Trends",type:"wordCloud",size:["80%","80%"],textRotation:[0,45,90,-45],textPadding:0,autoSize:{enable:!0,minSize:14},data:[{name:"Sam S Club",value:1e4,itemStyle:{normal:{color:"black"}}},{name:"Macys",value:6181,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Amy Schumer",value:4386,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Jurassic World",value:4055,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Charter Communications",value:2467,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Chick Fil A",value:2244,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Planet Fitness",value:1898,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Pitch Perfect",value:1484,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Express",value:1112,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Home",value:965,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Johnny Depp",value:847,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Lena Dunham",value:582,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Lewis Hamilton",value:555,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"KXAN",value:550,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Mary Ellen Mark",value:462,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Farrah Abraham",value:366,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Rita Ora",value:360,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Serena Williams",value:282,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"NCAA baseball tournament",value:273,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}},{name:"Point Break",value:265,itemStyle:{normal:{color:"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}}}]}]})}}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-card",{staticClass:"box-card"},[e("div",{staticStyle:{height:"500px"},attrs:{id:"mark_wall"}})])],1)},staticRenderFns:[]},L=n("VU/8")(I,U,!1,null,null,null).exports,R={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("加入我们...balabala")])},staticRenderFns:[]},A=n("VU/8")(null,R,!1,null,null,null).exports,N=n("mtWM"),q=n.n(N),H={components:{HeaderTab:k,MenuTab:y},data:function(){return{value:"",defaultData:"preview",id:"",title:""}},watch:{$route:function(t,e){console.log(t.params)}},mounted:function(){this.getArticleById()},methods:{getArticleById:function(){var t=this;q()({method:"get",url:"/article/"+t.$route.params.id,withCredentials:!0,params:{}}).then(function(e){console.log(e.data.data),t.value=e.data.data.info,t.title=e.data.data.title}).catch(function(t){console.log(t)})}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"md-shodow"},[n("div",{staticClass:"article-title-box"},[n("h2",[t._v(t._s(t.title))])]),t._v(" "),n("mavon-editor",{staticClass:"article-info-box",attrs:{subfield:!1,defaultOpen:t.defaultData,toolbarsFlag:!1,boxShadow:!0,editable:!1},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)])])},staticRenderFns:[]};var P=n("VU/8")(H,V,!1,function(t){n("OkNr")},"data-v-1ad6de62",null).exports,O={data:function(){return{articleList:[]}},mounted:function(){this.getArticleList()},methods:{getArticleList:function(){var t=this;q()({method:"get",url:"/article/1ist",withCredentials:!0,params:{}}).then(function(e){console.log(e.data.data),t.articleList=e.data.data}).catch(function(t){console.log(t)})},toArticle:function(t){}}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"article-list-box"},t._l(t.articleList,function(e,r){return n("el-card",{key:r,staticClass:"article-list-card",attrs:{index:e.id}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[n("router-link",{attrs:{to:{path:"/article/"+e.id,params:{id:e.id}}}},[t._v(t._s(e.title))])],1),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("操作按钮")])],1),t._v(" "),n("div",[t._v("\n        "+t._s(e.introduction)+"\n      ")])])}),1)])},staticRenderFns:[]};var z=n("VU/8")(O,B,!1,function(t){n("EqdY")},"data-v-8edfd26a",null).exports,D=n("Dd8w"),W={components:{HeaderTab:k},data:function(){var t=this;return{userForm:{pass:"",name:""},userRule:{pass:[{validator:function(e,n,r){""===n?r(new Error("请输入密码")):(""!==t.userForm.checkPass&&t.$refs.userForm.validateField("checkPass"),r())},trigger:"blur"}],name:[{validator:function(t,e,n){if(!e)return n(new Error("用户名不能为空"));setTimeout(function(){""===e||null===e?n(new Error("请输入数字值")):n()},1e3)},trigger:"blur"}]}}},methods:n.n(D)()({},Object(u.b)(["changeUser"]),{submitForm:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")});e.userForm.name,e.userForm.pass;q()({method:"post",url:"/user/login",withCredentials:!0,params:{}}).then(function(t){"200"===t.data.code&&(alert("success login"),console.log(e.$store),console.log(e.$store.state.isLogin),e.saveUserInfo(t.data.data),e.$router.push("/"))}.bind(this)).catch(function(t){return console.log(t)})},resetForm:function(t){this.$refs[t].resetFields()},saveUserInfo:function(t){console.log(t),sessionStorage.setItem("userToken",t.token),sessionStorage.setItem("username",t.username),this.$store.dispatch("changeUser",t)}})},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("header-tab")],1),t._v(" "),n("div",{staticClass:"login-bg"}),t._v(" "),n("div",{staticClass:"login-content"},[n("el-form",{ref:"userForm",attrs:{model:t.userForm,"status-icon":"",rules:t.userRule,"label-width":"100px"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:t.userForm.name,callback:function(e){t.$set(t.userForm,"name",e)},expression:"userForm.name"}}),t._v(" "),n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"密码"},model:{value:t.userForm.pass,callback:function(e){t.$set(t.userForm,"pass",e)},expression:"userForm.pass"}}),t._v(" "),n("div",{staticClass:"login-button"},[n("el-button",{staticClass:"login-button-left",attrs:{type:"info",round:""},on:{click:function(e){return t.submitForm("userForm")}}},[t._v("登录")])],1),t._v(" "),n("div",{staticClass:"login-more-sign"},[n("router-link",{attrs:{to:{path:"/register"}}},[n("h6",[t._v("没有账号? 注册")])])],1)],1)],1)])},staticRenderFns:[]};var J=n("VU/8")(W,X,!1,function(t){n("Hhm6")},null,null).exports,Q={components:{HeaderTab:k},data:function(){var t=this;return{userForm:{pass:"",name:""},userRule:{pass:[{validator:function(e,n,r){""===n?r(new Error("请输入密码")):(""!==t.userForm.checkPass&&t.$refs.userForm.validateField("checkPass"),r())},trigger:"blur"}],name:[{validator:function(t,e,n){if(!e)return n(new Error("用户名不能为空"));setTimeout(function(){""===e||null===e?n(new Error("请输入数字值")):n()},1e3)},trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")});e.userForm.name,e.userForm.pass;q()({method:"post",url:"/user/register",withCredentials:!0,params:{}}).then(function(t){"200"===t.data.code&&(alert("success login"),console.log(e.$store.state.isLogin),e.$router.push("/")),this.saveUserInfo(t.data.data)}.bind(this)).catch(function(t){return console.log(t)})},resetForm:function(t){this.$refs[t].resetFields()},saveUserInfo:function(t){sessionStorage.setItem("userToken",t.token),sessionStorage.setItem("username",t.username),this.$store.dispatch("setUser",t.username),this.$store.dispatch("setToken",t.token)}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("header-tab")],1),t._v(" "),n("div",{staticClass:"register-bg"}),t._v(" "),n("div",{staticClass:"register-content"},[n("el-form",{ref:"userForm",attrs:{model:t.userForm,"status-icon":"",rules:t.userRule,"label-width":"100px"}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:t.userForm.name,callback:function(e){t.$set(t.userForm,"name",e)},expression:"userForm.name"}}),t._v(" "),n("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"密码"},model:{value:t.userForm.pass,callback:function(e){t.$set(t.userForm,"pass",e)},expression:"userForm.pass"}}),t._v(" "),n("div",{staticClass:"register-button"},[n("el-button",{staticClass:"register-button-left",attrs:{type:"info",round:""},on:{click:function(e){return t.submitForm("userForm")}}},[t._v("注册")])],1),t._v(" "),n("div",{staticClass:"register-more-sign"},[n("router-link",{attrs:{to:{path:"/login"}}},[n("h6",[t._v("已有账号? 登录")])])],1)],1)],1)])},staticRenderFns:[]};var K=n("VU/8")(Q,G,!1,function(t){n("2IDN")},null,null).exports,Y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("个人中心balabala")])},staticRenderFns:[]},Z=n("VU/8")(null,Y,!1,null,null,null).exports;l.default.use(b.a);var tt=new b.a({routes:[{path:"/",redirect:"/article"},{path:"/home",name:"主页",component:$,children:[{path:"/markwall",name:"过往印记",component:L},{path:"/article",name:"技术杂文",component:z},{path:"/article/:id",name:"文章",component:P},{path:"/user",name:"个人中心",component:Z},{path:"/join",name:"加入我们",component:A}]},{path:"/login",name:"用户登录",component:J},{path:"/register",name:"用户注册",component:K}]}),et=n("zL8q"),nt=n.n(et),rt=(n("tvR6"),n("OS1Z")),at=n.n(rt);n("pw1w");l.default.config.productionTip=!1,l.default.prototype.axios=q.a,l.default.prototype.$echarts=E.a,l.default.use(nt.a),l.default.use(at.a),l.default.use(u.a),n("qs/E"),q.a.defaults.withCredentials=!0,q.a.defaults.headers.common.Authorization=p.state.token,tt.beforeEach(function(t,e,n){if("/login"===t.path)n();else{var r=sessionStorage.getItem("userToken");"null"===r||""===r?n({path:"/login",query:{redirect:t.fullPath}}):n()}}),q.a.interceptors.request.use(function(t){return p.state.token&&(t.headers.Authorization="Bearer "+p.state.token),t},function(t){return i.a.reject(t)}),q.a.interceptors.response.use(function(t){return t},function(t){if(t.response)switch(t.response.status){case 401:sessionStorage.setItem("userToken",null),sessionStorage.setItem("username",null),console.log(tt.currentRoute.fullPath),tt.replace({path:"/login",query:{redirect:tt.currentRoute.fullPath}})}return i.a.reject(t.response)}),new l.default({el:"#app",router:tt,store:p,components:{App:M},template:"<App/>"})},OkNr:function(t,e){},QiHL:function(t,e){},TKgB:function(t,e){t.exports={code:"200",data:{title:"这是一篇测试文章 -2",info:"# bboyhan-web - Text 2 \n> bboyhan website\n## Build Setup\n``` bash,\n# install dependencies\nnpm install\n# serve with hot reload at localhost:8080\n```"},msg:""}},Vl3S:function(t,e){},ct0A:function(t,e){},eOq7:function(t,e,n){t.exports=n.p+"static/img/logo.8422aef.jpg"},"p/0W":function(t,e){},pw1w:function(t,e){},"qs/E":function(t,e,n){var r=n("zNUS");r.mock("/article/1","get",n("CNLw")),r.mock("/article/2","get",n("TKgB")),r.mock("/article/1ist","get",n("BR+q")),r.mock("/user/login","post",n("6tdw")),r.mock("/user/register","post",n("6tdw"))},tvR6:function(t,e){},zQrT:function(t,e,n){t.exports=n.p+"static/img/avatar.719ef3a.png"}},["NHnr"]);
//# sourceMappingURL=app.efcaca8152eec6897d91.js.map